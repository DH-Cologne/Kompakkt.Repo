<div class="metadata-container">
  <mat-form-field>
    <input required matInput placeholder="Prename" [(ngModel)]="person.prename.value">
  </mat-form-field>
  <mat-form-field>
    <input required matInput placeholder="Surname" [(ngModel)]="person.name.value">
  </mat-form-field>
  <mat-form-field>
    <input required matInput placeholder="Mail" [(ngModel)]="person.mail.value">
  </mat-form-field>

  <h2>Role selection</h2>
  <ng-container *ngFor="let role of availableRoles">
    <mat-checkbox (change)="updateRoles()" [(ngModel)]="role.checked">{{ role.value }}</mat-checkbox>
  </ng-container>

  <mat-form-field>
    <input matInput placeholder="Note" [(ngModel)]="person.note.value">
  </mat-form-field>
  <mat-form-field>
    <input matInput placeholder="Phonenumber" [(ngModel)]="person.phonenumber.value">
  </mat-form-field>

  <h4>Institutions this person is part of
    <button (click)="addInstitution()" mat-mini-fab color="accent">Add</button>
  </h4>
  <!-- TODO: Search + Typeahead -->
  <app-institution *ngFor="let institution of person.institution.value" [institution]="institution"></app-institution>
</div>
