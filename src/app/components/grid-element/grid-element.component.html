<ng-container *ngIf="element !== undefined">

<!-- Optional behaviour: Ignore clicks on element (e.g. on profile page) -->
<ng-container *ngIf="disableNavigationOnClick">
  <div class="image" *ngIf="isEntity(element)"
    [ngStyle]="{'background': getBackgroundColor(element)}"
  >
    <anim-img [src]="getImageSource(element)" alt="{{element.name}}"></anim-img>
  </div>
  <div class="images" *ngIf="isCompilation(element)"
    [class.single-image]="getImageSources(element).length == 1"
  >
    <anim-img *ngFor="let source of getImageSources(element)" alt="{{element.name}}" [src]="source"></anim-img>
  </div>
</ng-container>

<!-- Default behaviour: Navigate to element when clicked -->
<ng-container *ngIf="!disableNavigationOnClick">
  <div class="image cursor-pointer" *ngIf="isEntity(element)"
    [ngStyle]="{'background': getBackgroundColor(element)}"
    [routerLink]="['/entity', element._id]"
    matTooltip="Click to view object"
    [matTooltipShowDelay]="1000"
  >
    <anim-img [src]="getImageSource(element)" alt="{{element.name}}"></anim-img>
  </div>
  <div class="images cursor-pointer" *ngIf="isCompilation(element)"
    [routerLink]="['/compilation', element._id]"
    matTooltip="Click to view collection"
    [matTooltipShowDelay]="1000"
    [class.single-image]="getImageSources(element).length == 1"
  >
    <anim-img *ngFor="let source of getImageSources(element)" alt="{{element.name}}" [src]="source"></anim-img>
  </div>
</ng-container>

<div class="entity-type" *ngIf="!disableTypeInfo">
  <mat-icon (click)="openExploreDialog(element)" class="button" [matTooltip]="'Show ' + (isEntity(element) ? 'object' : 'collection') + ' preview' " style="cursor: pointer;">open_in_browser</mat-icon>

  <mat-icon class="help" *ngIf="getTooltipContent(element).length > 20" [matTooltip]="getTooltipContent(element)">description</mat-icon>

  <ng-container *ngIf="isCompilation(element)">
    <mat-icon class="help" matTooltip="This collection has recently been annotated" *ngIf="isRecentlyAnnotated(element)">access_time</mat-icon>

    <mat-icon class="help" *ngIf="isPasswordProtected(element)" matTooltip="Password protected">lock</mat-icon>

    <mat-icon [matTooltip]="getCollectionQuantityText(element)">{{ getCollectionQuantityIcon(element) }}</mat-icon>

    <mat-icon class="help" matTooltip="Collection">{{icons.collection}}</mat-icon>
  </ng-container>
  <ng-container *ngIf="isEntity(element)">
    <ng-container *ngIf="quickAddToCollectionMenu !== undefined">
      <mat-icon class="button" matTooltip="Quick add to collection" [matMenuTriggerFor]="quickAddToCollectionMenu" (click)="selectObject(element._id)">playlist_add</mat-icon>
    </ng-container>
    <mat-icon class="help" [matTooltip]="mtype[element.mediaType]">{{icons[element.mediaType]}}</mat-icon>
  </ng-container>

</div>
<div class="title">
  <div class="titlewrapper">
    {{ element.name }}
  </div>
</div>
</ng-container>
